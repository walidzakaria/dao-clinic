(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50d5ad8d"],{"0d98":function(e,t,n){"use strict";n("71b7")},2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("5a34"),l=n("1d80"),i=n("ab13");r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(l(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),a=n("825a"),l=n("d039"),i=n("ad6d"),s="toString",o=RegExp.prototype,c=o[s],u=l((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&r(RegExp.prototype,s,(function(){var e=a(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in o)?i.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"43c9":function(e,t,n){e.exports=n.p+"static/img/mc_vrt_pos.5450f163.svg"},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),l=n("b622"),i=l("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},7138:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-tempalte"},[e.load?n("div",{attrs:{id:"loader"}},[n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span"),n("span")]):e._e(),e.load?n("div",{attrs:{id:"overlay"}}):e._e(),""===e.iframeLink?n("form",{on:{submit:[function(e){e.preventDefault()},function(t){return e.book()}]}},[n("h2",[e._v("Book an Appointment")]),n("div",{staticClass:"form-group"},[e._m(0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sessionType,expression:"sessionType"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sessionType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"S"}},[e._v("One Session")]),n("option",{attrs:{value:"M"}},[e._v("Four Sessions")])])]),"S"===e.sessionType?n("div",{staticClass:"form-group"},[e._m(1),n("select",{directives:[{name:"model",rawName:"v-model",value:e.singleSelectedDateIndex,expression:"singleSelectedDateIndex"}],staticClass:"form-control input-date",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.singleSelectedDateIndex=t.target.multiple?n:n[0]},function(t){return e.fillSingleAvailableTimes()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Date--")]),e._l(e.singleAvailableDays,(function(t,r){return n("option",{key:r,attrs:{disabled:!t.isAvailable},domProps:{value:r}},[e._v(" "+e._s(t.formattedDate)+" "),t.isAvailable?e._e():n("span",[n("pre",[e._v("\t\t")]),e._v(" • Not Available ")])])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.singleSelectedTime,expression:"singleSelectedTime"}],staticClass:"form-control input-time",attrs:{required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.singleSelectedTime=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"null"}},[e._v("--Select Time--")]),e._l(e.singleAvailableTimes,(function(t,r){return n("option",{key:r,attrs:{disabled:t.timeBlocked},domProps:{value:t.freeSlot}},[e._v(" "+e._s(t.freeSlot)+" "),t.timeBlocked?n("span",[e._v(" • Booked ")]):e._e()])}))],2)]):n("div",[n("div",{staticClass:"form-group"},[e._m(2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.firstSelectedDateIndex,expression:"firstSelectedDateIndex"}],staticClass:"form-control input-date",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstSelectedDateIndex=t.target.multiple?n:n[0]},function(t){return e.fillFirstAvailableTimes()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Date--")]),e._l(e.firstAvailableDays,(function(t,r){return n("option",{key:r,attrs:{disabled:!t.isAvailable},domProps:{value:r}},[e._v(" "+e._s(t.formattedDate)+" "),t.isAvailable?e._e():n("span",[n("pre",[e._v("\t\t")]),e._v(" • Not Available ")])])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.firstSelectedTime,expression:"firstSelectedTime"}],staticClass:"form-control input-time",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstSelectedTime=t.target.multiple?n:n[0]},function(t){return e.fillSecondDays()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Time--")]),e._l(e.firstAvailableTimes,(function(t,r){return n("option",{key:r,attrs:{disabled:t.timeBlocked},domProps:{value:t.freeSlot}},[e._v(" "+e._s(t.freeSlot)+" "),t.timeBlocked?n("span",[e._v(" • Booked ")]):e._e()])}))],2)]),n("div",{staticClass:"form-group"},[e._m(3),n("select",{directives:[{name:"model",rawName:"v-model",value:e.secondSelectedDateIndex,expression:"secondSelectedDateIndex"}],staticClass:"form-control input-date",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondSelectedDateIndex=t.target.multiple?n:n[0]},function(t){return e.fillSecondAvailableTimes()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Date--")]),e._l(e.secondAvailableDays,(function(t,r){return n("option",{key:r,attrs:{disabled:!t.isAvailable},domProps:{value:r}},[e._v(" "+e._s(t.formattedDate)+" "),t.isAvailable?e._e():n("span",[n("pre",[e._v("\t\t")]),e._v(" • Not Available ")])])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.secondSelectedTime,expression:"secondSelectedTime"}],staticClass:"form-control input-time",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondSelectedTime=t.target.multiple?n:n[0]},function(t){return e.fillThirdDays()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Time--")]),e._l(e.secondAvailableTimes,(function(t,r){return n("option",{key:r,attrs:{disabled:t.timeBlocked},domProps:{value:t.freeSlot}},[e._v(" "+e._s(t.freeSlot)+" "),t.timeBlocked?n("span",[e._v(" • Booked ")]):e._e()])}))],2)]),n("div",{staticClass:"form-group"},[e._m(4),n("select",{directives:[{name:"model",rawName:"v-model",value:e.thirdSelectedDateIndex,expression:"thirdSelectedDateIndex"}],staticClass:"form-control input-date",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.thirdSelectedDateIndex=t.target.multiple?n:n[0]},function(t){return e.fillThirdAvailableTimes()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Date--")]),e._l(e.thirdAvailableDays,(function(t,r){return n("option",{key:r,attrs:{disabled:!t.isAvailable},domProps:{value:r}},[e._v(" "+e._s(t.formattedDate)+" "),t.isAvailable?e._e():n("span",[n("pre",[e._v("\t\t")]),e._v(" • Not Available ")])])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.thirdSelectedTime,expression:"thirdSelectedTime"}],staticClass:"form-control input-time",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.thirdSelectedTime=t.target.multiple?n:n[0]},function(t){return e.fillFourthDays()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Time--")]),e._l(e.thirdAvailableTimes,(function(t,r){return n("option",{key:r,attrs:{disabled:t.timeBlocked},domProps:{value:t.freeSlot}},[e._v(" "+e._s(t.freeSlot)+" "),t.timeBlocked?n("span",[e._v(" • Booked ")]):e._e()])}))],2)]),n("div",{staticClass:"form-group"},[e._m(5),n("select",{directives:[{name:"model",rawName:"v-model",value:e.fourthSelectedDateIndex,expression:"fourthSelectedDateIndex"}],staticClass:"form-control input-date",attrs:{required:""},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fourthSelectedDateIndex=t.target.multiple?n:n[0]},function(t){return e.fillFourthAvailableTimes()}]}},[n("option",{attrs:{value:"null"}},[e._v("--Select Date--")]),e._l(e.fourthAvailableDays,(function(t,r){return n("option",{key:r,attrs:{disabled:!t.isAvailable},domProps:{value:r}},[e._v(" "+e._s(t.formattedDate)+" "),t.isAvailable?e._e():n("span",[n("pre",[e._v("\t\t")]),e._v(" • Not Available ")])])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.fourthSelectedTime,expression:"fourthSelectedTime"}],staticClass:"form-control input-time",attrs:{required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fourthSelectedTime=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"null"}},[e._v("--Select Time--")]),e._l(e.fourthAvailableTimes,(function(t,r){return n("option",{key:r,attrs:{disabled:t.timeBlocked},domProps:{value:t.freeSlot}},[e._v(" "+e._s(t.freeSlot)+" "),t.timeBlocked?n("span",[e._v(" • Booked ")]):e._e()])}))],2)])]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"comment"}},[e._v("Comment:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comments,expression:"comments"}],staticClass:"form-control",attrs:{rows:"5",id:"comment"},domProps:{value:e.comments},on:{input:function(t){t.target.composing||(e.comments=t.target.value)}}})]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCurrency,expression:"selectedCurrency"}],ref:"currency",staticClass:"form-control",attrs:{name:"currency",id:"currency",required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCurrency=t.target.multiple?n:n[0]}}},e._l(e.currencyNames,(function(t,r){return n("option",{key:r,attrs:{disabled:"---MORE---"===t},domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),"S"===e.sessionType?n("div",[n("p",[e._v(" Total Price: "+e._s(e._f("currency")(e.singleSessionPrice,e.selectedCurrency))+" ")]),n("p",[e._v("Book 4 sessions and save up to "+e._s(e._f("currency")(e.savedAmount,e.selectedCurrency)))])]):n("div",[n("p",[e._v("Total Price: "+e._s(e._f("currency")(e.multiSessionPrice,e.selectedCurrency)))])]),n("div",{staticClass:"input-group mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.coupon.code,expression:"coupon.code",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter coupon here...","aria-label":"Coupon","aria-describedby":"basic-addon2"},domProps:{value:e.coupon.code},on:{keypress:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.redeem()}],input:function(t){t.target.composing||e.$set(e.coupon,"code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(t){return e.redeem()}}},[e._v(" Redeem "),e.coupon.load?n("span",{staticClass:"spinner-border"}):e._e()])]),e.coupon.discount>0?n("div",{staticClass:"text-primary"},[e._v(" Congratulations! You have exclusive discount of "),e.coupon.percent?e._e():n("strong",[e._v(" "+e._s(e._f("currency")(e.coupon.discount*e.currencyRate,e.selectedCurrency))+" ")]),e.coupon.percent?n("strong",[e._v(" "+e._s(e._f("currency")(e.coupon.discount,"%"))+" ")]):e._e(),n("br"),e._v(" Total amount after discount is "),n("strong",[e._v(e._s(e._f("currency")(e.finalPrice,e.selectedCurrency)))])]):e._e()]),n("ul",e._l(e.errorMessages,(function(t,r){return n("li",{key:r,staticClass:"text-danger"},[e._v(e._s(t)+" ")])})),0),n("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"}},[e._v(" Book Now "),e.isLoading?n("span",{staticClass:"spinner-border"}):e._e()]),e._m(6),n("br")]):n("iframe",{attrs:{src:e.iframeLink,frameborder:"0"}})])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[e._v("Select Session Type "),n("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[e._v(" Select Session Date & Time "),n("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[e._v(" First Session Date & Time "),n("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[e._v(" Second Session Date & Time "),n("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[e._v(" Third Session Date & Time "),n("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[e._v(" Fourth Session Date & Time "),n("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"gateway-logos"},[r("img",{attrs:{src:n("43c9"),alt:"mastercard-logo",width:"80"}}),r("img",{attrs:{src:n("df68"),alt:"visa-logo",width:"80"}})])}],l=(n("99af"),n("caad"),n("c975"),n("a434"),n("b64b"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),i=n("5530"),s=n("2f62"),o=n("bc3a"),c=n.n(o);function u(e){var t=e<10?"0".concat(e.toString()):e.toString();return t}function d(e){var t="".concat(e.getFullYear(),"-").concat(u(e.getMonth()+1),"-").concat(u(e.getDate()));return t}function f(e){var t=new Date,n=parseInt(e.substr(0,2),0),r=parseInt(e.substr(3,2),0);return"PM"===e.substr(6,2)&&12!==n&&(n+=12),t.setHours(n),t.setMinutes(r),t.setMilliseconds(0),"".concat(u(t.getHours()),":").concat(u(t.getMinutes()),":00")}var v={metaInfo:function(){return{title:"DAO World",titleTemplate:"%s | Booking"}},data:function(){return{load:!0,iframeLink:"",selectedCurrency:"USD",currency:null,singlePrice:null,multiplePrice:null,isLoading:!1,registered:!1,sessionType:"S",errorMessages:[],comments:"",availableWeekdays:null,busySlots:[null,null,null,null,null],singleAvailableDays:null,singleAvailableTimes:null,singleSelectedDateIndex:null,singleSelectedTime:null,firstAvailableDays:null,firstAvailableTimes:null,firstSelectedDateIndex:null,firstSelectedTime:null,secondAvailableDays:null,secondAvailableTimes:null,secondSelectedDateIndex:null,secondSelectedTime:null,thirdAvailableDays:null,thirdAvailableTimes:null,thirdSelectedDateIndex:null,thirdSelectedTime:null,fourthAvailableDays:null,fourthAvailableTimes:null,fourthSelectedDateIndex:null,fourthSelectedTime:null,coupon:{code:null,load:!1,id:null,discount:0,percent:null}}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])("user",["isAuthenticated","userInfo","loginName"])),{},{currencyNames:function(){var e=this.currency?Object.keys(this.currency):null;if(e){var t=e.indexOf("EGP");e.splice(t,1),t=e.indexOf("USD"),e.splice(t,1),t=e.indexOf("EUR"),e.splice(t,1),t=e.indexOf("SAR"),e.splice(t,1),t=e.indexOf("KWD"),e.splice(t,1),t=e.indexOf("AED"),e.splice(t,1),e.sort(),e.unshift("---MORE---"),e.unshift("KWD"),e.unshift("AED"),e.unshift("SAR"),e.unshift("EUR"),e.unshift("EGP"),e.unshift("USD")}return e},currencyRate:function(){console.log(this.selectedCurrency);var e=this.currency?this.currency[this.selectedCurrency]:1;return e},singleSessionPrice:function(){return this.currencyRate*this.singlePrice},multiSessionPrice:function(){return this.currencyRate*this.multiPrice},savedAmount:function(){return 4*this.singleSessionPrice-this.multiSessionPrice},finalPrice:function(){var e,t="S"===this.sessionType?this.singleSessionPrice:this.multiSessionPrice;return console.log(t),e=this.coupon.percent?this.coupon.discount/100*t:this.coupon.discount*this.currencyRate,t-e},singleSelectedDate:function(){var e=new Date;return e.setDate(e.getDate()+this.singleSelectedDateIndex+1),e},firstSelectedDate:function(){var e=new Date;return e.setDate(e.getDate()+this.firstSelectedDateIndex+1),e},secondSelectedDate:function(){var e=new Date(this.firstSelectedDate);return e.setDate(e.getDate()+this.secondSelectedDateIndex+1),e},thirdSelectedDate:function(){var e=new Date(this.secondSelectedDate);return e.setDate(e.getDate()+this.thirdSelectedDateIndex+1),e},fourthSelectedDate:function(){var e=new Date(this.thirdSelectedDate);return e.setDate(e.getDate()+this.fourthSelectedDateIndex+1),e}}),created:function(){},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.retrieveAvailableDays();case 2:return t.next=4,e.retrievePrices();case 4:e.load=!1;case 5:case"end":return t.stop()}}),t)})))()},methods:{retrievePrices:function(){var e=this;this.$store.dispatch("res/getPrices").then((function(t){console.log("prices ",t),e.singlePrice=t.data.single_session_price,e.multiPrice=t.data.multi_session_price,e.retrieveCurrency()})).catch((function(e){console.log(e)}))},retrieveCurrency:function(){var e=this;this.$store.dispatch("res/getCurrency").then((function(t){t.data.rates&&(e.currency=e.$store.state.res.currency,console.log("rates are:",e.currency))})).catch((function(e){console.log(e)}))},pay:function(){c()({method:"post",url:"https://secure-egypt.paytabs.com/payment/request",headers:{Authorization:"SLJN9DH96L-JBBMZNJRK2-9MTBDLM6W6"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},redeem:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.coupon.code){t.next=2;break}return t.abrupt("return");case 2:return e.coupon.load=!0,t.next=5,e.$store.dispatch("res/retrieveCoupon",e.coupon.code).then((function(t){console.log(t),e.coupon.id=t.data.id||null,e.coupon.discount=t.data.discount||0,e.coupon.percent=t.data.percent||!1,e.coupon.load=!1})).catch((function(t){console.log(t),e.coupon.code=null,e.coupon.id=null,e.coupon.discount=0,e.coupon.load=!1}));case 5:case"end":return t.stop()}}),t)})))()},book:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,l,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isAuthenticated){t.next=5;break}return n={sessionType:e.sessionType,singleSelectedDateIndex:e.singleSelectedDateIndex,singleSelectedTime:e.singleSelectedTime,firstSelectedDateIndex:e.firstSelectedDateIndex,firstSelectedTime:e.firstSelectedTime,secondSelectedDateIndex:e.secondSelectedDateIndex,secondSelectedTime:e.secondSelectedTime,thirdSelectedDateIndex:e.thirdSelectedDateIndex,thirdSelectedTime:e.thirdSelectedTime,fourthSelectedDateIndex:e.fourthSelectedDateIndex,fourthSelectedTime:e.fourthSelectedTime},e.$store.commit("res/updatePendingBooking",n),e.$router.push("/login/"),t.abrupt("return");case 5:if(e.errorMessages=[],"S"===e.sessionType?null!==e.singleSelectedDate&&null!==e.singleSelectedTime||e.errorMessages.push("please select a valid date and time"):"M"===e.sessionType&&(null===e.firstSelectedDate||null===e.firstSelectedTime||null===e.secondSelectedDate||null===e.secondSelectedTime||null===e.thirdSelectedDate||null===e.thirdSelectedTime?e.errorMessages.push("please select a valid date and time"):null!==e.fourthSelectedDate&&null!==e.fourthSelectedTime||e.errorMessages.push("please select a valid date and time")),!(e.errorMessages.length>0)){t.next=9;break}return t.abrupt("return");case 9:if(r=null,"S"===e.sessionType)a=d(e.singleSelectedDate),l=f(e.singleSelectedTime),r=[{type:e.sessionType,date:a,time:l,currency:e.selectedCurrency,comments:e.comments,coupon:e.coupon.id}];else for(i=[],s=[],i.push(d(e.firstSelectedDate)),i.push(d(e.secondSelectedDate)),i.push(d(e.thirdSelectedDate)),i.push(d(e.fourthSelectedDate)),s.push(f(e.firstSelectedTime)),s.push(f(e.secondSelectedTime)),s.push(f(e.thirdSelectedTime)),s.push(f(e.fourthSelectedTime)),r=[],o=0;o<4;o+=1)r.push({type:e.sessionType,sequence:o+1,date:i[o],time:s[o],currency:e.selectedCurrency,comments:e.comments,coupon:e.coupon.id});return console.log("booking request",r),t.next=14,e.$store.dispatch("res/postNewBooking",r).then((function(t){console.log(t),e.iframeLink=t.data.url})).catch((function(t){console.log(t),e.errorMessages.push("Unable to book your appointment. Please try again!"),e.singleSelectedDateIndex=0}));case 14:case"end":return t.stop()}}),t)})))()},fillSecondDays:function(){this.secondAvailableDays=this.fillAvailableDays(this.firstSelectedDate),this.secondSelectedDateIndex=null,this.secondSelectedTime=null,this.thirdSelectedDateIndex=null,this.thirdSelectedTime=null,this.fourthSelectedDateIndex=null,this.fourthSelectedTime=null},fillThirdDays:function(){this.thirdAvailableDays=this.fillAvailableDays(this.secondSelectedDate),this.thirdSelectedDateIndex=null,this.thirdSelectedTime=null,this.fourthSelectedDateIndex=null,this.fourthSelectedTime=null},fillFourthDays:function(){this.fourthAvailableDays=this.fillAvailableDays(this.thirdSelectedDate),this.fourthSelectedDateIndex=null,this.fourthSelectedTime=null},retrieveAvailableDays:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("res/getAvailableDays").then((function(){e.availableWeekdays=e.$store.state.res.availableDays,console.log("available days",e.singleAvailableDays),e.singleAvailableDays=e.fillAvailableDays(new Date),e.firstAvailableDays=e.fillAvailableDays(new Date)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},fillAvailableDays:function(e){for(var t=[],n=1;n<60;n+=1){var r=new Date(e);r.setDate(r.getDate()+n);var a=this.getWeekDay(r),l=this.availableWeekdays[a];t.push({date:r,weekDay:a,isAvailable:l,formattedDate:"".concat(a,", ").concat(this.formatDate(r))})}return t},fillSingleAvailableTimes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.singleSelectedDateIndex){t.next=3;break}return e.busySlots[0]=null,t.abrupt("return");case 3:return e.loadTimes=!0,n="".concat(u(e.singleSelectedDate.getDate()),"-").concat(u(e.singleSelectedDate.getMonth()+1),"-").concat(e.singleSelectedDate.getFullYear()),t.next=7,e.$store.dispatch("res/getAvailableTimes",n).then((function(t){e.busySlots[0]=[];for(var n=0;n<t.data.length;n+=1)e.busySlots[0].push(t.data[n].time)})).then((function(){e.calcFreeSlots(0)})).catch((function(t){console.log(t),e.singleAvailableTimes=[]}));case 7:case"end":return t.stop()}}),t)})))()},fillFirstAvailableTimes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.firstSelectedDateIndex){t.next=3;break}return e.busySlots[1]=null,t.abrupt("return");case 3:return e.firstSelectedTime=null,e.secondSelectedDateIndex=null,e.secondSelectedTime=null,e.thirdSelectedDateIndex=null,e.thirdSelectedTime=null,e.fourthSelectedDateIndex=null,e.fourthSelectedTime=null,e.loadTimes=!0,n="".concat(u(e.firstSelectedDate.getDate()),"-").concat(u(e.firstSelectedDate.getMonth()+1),"-").concat(e.firstSelectedDate.getFullYear()),t.next=14,e.$store.dispatch("res/getAvailableTimes",n).then((function(t){e.busySlots[1]=[];for(var n=0;n<t.data.length;n+=1)e.busySlots[1].push(t.data[n].time)})).then((function(){e.calcFreeSlots(1)})).catch((function(t){console.log(t),e.firstAvailableTimes=[]}));case 14:case"end":return t.stop()}}),t)})))()},fillSecondAvailableTimes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.secondSelectedDateIndex){t.next=3;break}return e.busySlots[2]=null,t.abrupt("return");case 3:return e.secondSelectedTime=null,e.thirdSelectedDateIndex=null,e.thirdSelectedTime=null,e.fourthSelectedDateIndex=null,e.fourthSelectedTime=null,e.loadTimes=!0,n="".concat(u(e.secondSelectedDate.getDate()),"-").concat(u(e.secondSelectedDate.getMonth()+1),"-").concat(e.secondSelectedDate.getFullYear()),t.next=12,e.$store.dispatch("res/getAvailableTimes",n).then((function(t){e.busySlots[2]=[];for(var n=0;n<t.data.length;n+=1)e.busySlots[2].push(t.data[n].time)})).then((function(){e.calcFreeSlots(2)})).catch((function(t){console.log(t),e.firstAvailableTimes=[]}));case 12:case"end":return t.stop()}}),t)})))()},fillThirdAvailableTimes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.thirdSelectedDateIndex){t.next=3;break}return e.busySlots[3]=null,t.abrupt("return");case 3:return e.thirdSelectedTime=null,e.fourthSelectedDateIndex=null,e.fourthSelectedTime=null,e.loadTimes=!0,n="".concat(u(e.thirdSelectedDate.getDate()),"-").concat(u(e.thirdSelectedDate.getMonth()+1),"-").concat(e.thirdSelectedDate.getFullYear()),t.next=10,e.$store.dispatch("res/getAvailableTimes",n).then((function(t){e.busySlots[3]=[];for(var n=0;n<t.data.length;n+=1)e.busySlots[3].push(t.data[n].time)})).then((function(){e.calcFreeSlots(3)})).catch((function(t){console.log(t),e.firstAvailableTimes=[]}));case 10:case"end":return t.stop()}}),t)})))()},fillFourthAvailableTimes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.fourthSelectedDateIndex){t.next=3;break}return e.busySlots[4]=null,t.abrupt("return");case 3:return e.fourthSelectedTime=null,e.loadTimes=!0,n="".concat(u(e.fourthSelectedDate.getDate()),"-").concat(u(e.fourthSelectedDate.getMonth()+1),"-").concat(e.fourthSelectedDate.getFullYear()),t.next=8,e.$store.dispatch("res/getAvailableTimes",n).then((function(t){e.busySlots[4]=[];for(var n=0;n<t.data.length;n+=1)e.busySlots[4].push(t.data[n].time)})).then((function(){e.calcFreeSlots(4)})).catch((function(t){console.log(t),e.firstAvailableTimes=[]}));case 8:case"end":return t.stop()}}),t)})))()},calcFreeSlots:function(e){var t=[],n=new Date;if(null!==this.availableDays){console.log("check int: ",parseInt(this.availableWeekdays.openTime.substr(2,2),0)),n.setHours(parseInt(this.availableWeekdays.openTime.substr(0,2),0)),n.setMinutes(parseInt(this.availableWeekdays.openTime.substr(3,2),0)),n.setSeconds(0),n.setMilliseconds(0);var r=new Date;r.setHours(parseInt(this.availableWeekdays.closeTime.substr(0,2),0)),r.setMinutes(parseInt(this.availableWeekdays.closeTime.substr(3,2),0)),r.setSeconds(0),r.setMilliseconds(0),console.log("close",r);for(var a=0;n<=r;a+=10){var l=this.formatTime(n),i="".concat(u(n.getHours()),":").concat(u(n.getMinutes()),":00"),s=this.busySlots[e].includes(i);console.log(l),t.push({freeSlot:l,timeBlocked:s}),n.setMinutes(n.getMinutes()+10)}console.log(t,n,r),0===e?this.singleAvailableTimes=t:1===e?this.firstAvailableTimes=t:2===e?this.secondAvailableTimes=t:3===e?this.thirdAvailableTimes=t:4===e&&(this.fourthAvailableTimes=t)}},getWeekDay:function(e){var t=new Array(7);return t[0]="Sunday",t[1]="Monday",t[2]="Tuesday",t[3]="Wednesday",t[4]="Thursday",t[5]="Friday",t[6]="Saturday",t[e.getDay()]},formatDate:function(e){return"".concat(u(e.getDate())," ").concat(e.toLocaleString("default",{month:"short"}))},formatTime:function(e){var t;return t=e.getHours()<12?"".concat(u(e.getHours()),":").concat(u(e.getMinutes())," AM"):12===e.getHours()?"".concat(u(e.getHours()),":").concat(u(e.getMinutes())," PM"):"".concat(u(e.getHours()-12),":").concat(u(e.getMinutes())," PM"),t}}},m=v,p=(n("0d98"),n("2877")),h=Object(p["a"])(m,r,a,!1,null,"084fdcb4",null);t["default"]=h.exports},"71b7":function(e,t,n){},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),l=n("a691"),i=n("50c4"),s=n("7b0b"),o=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),v=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!v},{splice:function(e,t){var n,r,u,d,f,v,S=s(this),b=i(S.length),y=a(e,b),D=arguments.length;if(0===D?n=r=0:1===D?(n=0,r=b-y):(n=D-2,r=p(m(l(t),0),b-y)),b+n-r>h)throw TypeError(g);for(u=o(S,r),d=0;d<r;d++)f=y+d,f in S&&c(u,d,S[f]);if(u.length=r,n<r){for(d=y;d<b-r;d++)f=d+r,v=d+n,f in S?S[v]=S[f]:delete S[v];for(d=b;d>b-r+n;d--)delete S[d-1]}else if(n>r)for(d=b-r;d>y;d--)f=d+r-1,v=d+n-1,f in S?S[v]=S[f]:delete S[v];for(d=0;d<n;d++)S[d+y]=arguments[d+2];return S.length=b-r+n,u}})},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c975:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").indexOf,l=n("a640"),i=n("ae40"),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,c=l("indexOf"),u=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:o||!c||!u},{indexOf:function(e){return o?s.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},caad:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").includes,l=n("44d2"),i=n("ae40"),s=i("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),l("includes")},df68:function(e,t,n){e.exports=n.p+"static/img/MainVisaBlue.e1c22f96.jpg"}}]);
//# sourceMappingURL=chunk-50d5ad8d.f818d095.js.map